{"version":3,"file":"static/js/308.72850934.chunk.js","mappings":"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","sources":["components/FilmsList/FilmsList.styled.jsx","components/FilmsList/FilmsList.jsx","hooks/useFetching.jsx","services/api-service.js","views/Head.styled.jsx","components/SearchForm/Form.styled.jsx","images/search.svg","components/SearchForm/SearchForm.jsx","views/MoviesPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: grid;\n  gap: 14px;\n\n  @media screen and (min-width: 480px) {\n    grid-template-columns: repeat(2, 1fr);\n    /* grid-template-rows: repeat(10, 1fr); */\n  }\n\n  @media screen and (min-width: 768px) {\n    grid-template-columns: repeat(3, 1fr);\n    /* grid-template-rows: repeat(10, 1fr); */\n    gap: 24px;\n  }\n\n  @media screen and (min-width: 1200px) {\n    grid-template-columns: repeat(4, 1fr);\n    /* grid-template-rows: repeat(5, 1fr); */\n    gap: 24px;\n  }\n`;\n\nexport const ListItem = styled.li`\n  color: grey;\n  background-color: rgb(32, 40, 62, 80%);\n  padding: 8px;\n  border-radius: 12px;\n  position: relative;\n\n  img {\n    border-radius: 5px;\n  }\n\n  .film-info {\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 1.5;\n\n    letter-spacing: 0.02em;\n\n    color: #ebeef5;\n    padding-top: 18px;\n  }\n`;\n\nexport const Vote = styled.span`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  background: rgba(0, 0, 0, 0.65);\n  backdrop-filter: blur(8px);\n  padding: 4px 8px;\n  border-radius: 8px;\n  color: #ffad49;\n  font-size: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .md-16 {\n    font-size: 16px;\n  }\n`;\n","import { Link } from 'react-router-dom';\nimport { ListItem, List, Vote } from './FilmsList.styled';\n\nexport const FilmsList = ({ films, loc }) => {\n  return (\n    <List>\n      {films.map(\n        ({\n          id,\n          poster_path: poster,\n          original_title,\n          title,\n          vote_average: vote,\n        }) => (\n          <ListItem key={id}>\n            <Link to={`/movies/${id}`} state={{ from: loc }}>\n              <img\n                src={`https://image.tmdb.org/t/p/w500${poster}`}\n                alt={title ?? original_title + 'poster'}\n              />\n              <div className=\"film-info\">\n                <p>{title ?? original_title}</p>\n              </div>\n              {vote !== 0 && (\n                <Vote>\n                  <span className=\"material-icons md-16\">star_border</span>\n                  {vote}\n                </Vote>\n              )}\n            </Link>\n          </ListItem>\n        )\n      )}\n    </List>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const statusList = {\n  IDLE: 'idle',\n  LOAD: 'loading',\n  ERR: 'error',\n};\n\nexport const useFetching = (callback, fetchParametr = null) => {\n  const [state, setState] = useState(null);\n  const [status, setStatus] = useState(statusList.IDLE);\n\n  useEffect(() => {\n    if (fetchParametr === '') {\n      return;\n    }\n\n    const fetchFilms = async () => {\n      setStatus(statusList.LOAD);\n      try {\n        const result = await callback(fetchParametr);\n        setState(result);\n      } catch (error) {\n        console.log(error);\n        setStatus(statusList.ERR);\n      } finally {\n        setStatus(statusList.IDLE);\n      }\n    };\n    fetchFilms();\n  }, [callback, fetchParametr]);\n\n  return [state, status];\n};\n","import axios from \"axios\";\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\"\nconst KEY = \"04c27220ef2dd4b0aa9913b6cfeafdd6\"\n\nexport const fetchTrending = async () =>{\n    const response = await axios.get(`/trending/movie/day?api_key=${KEY}`)\n    return response.data.results;\n}\n\nexport const searchMovies = async (query, page=1) => {\n    const response = await axios.get(`/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`);\n    return response.data.results;\n}\n\nexport const fetchMovieDetails = async (movieId) => {\n    const response = await axios.get(`/movie/${movieId}?api_key=${KEY}&language=en-US`);\n    return response.data;\n}\n\nexport const fetchMovieReviews = async (movieId, page=1) => {\n    const response = await axios.get(`/movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=${page}`);\n    return response.data.results;\n}\n\nexport const fetchMovieCredits = async (movieId) => {\n    const response = await axios.get(`/movie/${movieId}/credits?api_key=${KEY}&language=en-US`);\n    return response.data.cast;\n}\n\nexport const fetchImages = async (movieId) => {\n    const response = await axios.get(`/movie/${movieId}/images?api_key=${KEY}&language=en-US`) \n    return response.data\n}","import styled from 'styled-components';\n\nexport const Head = styled.h1`\n  font-weight: 600;\n  font-size: 64px;\n  line-height: 1.25;\n\n  letter-spacing: -0.02em;\n\n  color: #ebeef5;\n  margin: 80px 0;\n`;\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  max-width: 350px;\n  margin-bottom: 52px;\n  input {\n    /* background-color: inherit; */\n    background: rgba(0, 0, 0, 0.1);\n    width: 100%;\n\n    border: 1px solid #323b54;\n\n    border-radius: 12px;\n    box-sizing: border-box;\n    padding: 24px 56px 24px 16px;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 1.14;\n\n    color: #475069;\n\n    &:focus {\n      border: 1px solid #323b54;\n    }\n  }\n  button {\n    position: absolute;\n    top: 12px;\n    right: 12px;\n    background-color: inherit;\n    border: none;\n    cursor: pointer;\n    padding: 8px;\n  }\n`;\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z\",\n    stroke: \"#475069\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22 22L20 20\",\n    stroke: \"#475069\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.50d049c2a30a90b6b437224f99de07b4.svg\";\nexport { ForwardRef as ReactComponent };","// import { useState } from 'react';\nimport { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Form } from './Form.styled';\nimport searchSvg from '../../images/search.svg';\n// import { useSearchParams } from 'react-router-dom';\n\nexport const SearchForm = ({ onSub }) => {\n  const { search } = useLocation();\n\n  const [query, setQuery] = useState(\n    new URLSearchParams(search).get('query') || ''\n  );\n\n  const onSearchSub = e => {\n    e.preventDefault();\n    if (!query) {\n      alert('Enter the search request');\n      return;\n    }\n\n    onSub(query ? { query } : { query: '' });\n  };\n\n  const onSearchInput = e => {\n    const query = e.target.value;\n    setQuery(query);\n  };\n\n  return (\n    <Form onSubmit={onSearchSub}>\n      <label>\n        <input\n          type=\"text\"\n          name=\"search\"\n          onChange={onSearchInput}\n          // value={searchParams.get('query') || ''}\n          value={query}\n          placeholder=\"Search Movies or TV Shows\"\n        />\n      </label>\n      <button type=\"submit\">\n        <img src={searchSvg} alt=\"Search\" />\n      </button>\n    </Form>\n  );\n};\n","import { FilmsList } from 'components/FilmsList/FilmsList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useFetching } from 'hooks/useFetching';\nimport { useEffect } from 'react';\nimport { searchMovies } from 'services/api-service';\nimport { statusList } from 'hooks/useFetching';\nimport { Loading } from 'components/Loading/Loading';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { Head } from './Head.styled';\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  // const [searchValue, setSearchValue] = useState('');\n  // const [searchResult, status] = useFetching(searchMovies, searchValue);\n  const [searchResult, status] = useFetching(\n    searchMovies,\n    searchParams.get('query') || ''\n  );\n  const { search, pathname } = useLocation();\n\n  useEffect(() => {\n    const query = new URLSearchParams(search).get('query');\n    if (query) {\n      setSearchParams({ query });\n    }\n  }, [search, setSearchParams]);\n\n  return (\n    <>\n      <Head>Search of movies</Head>\n      <SearchForm onSub={setSearchParams} />\n\n      {status === statusList.ERR && (\n        <p>Something is wrong... Try to reload the page</p>\n      )}\n\n      {status === statusList.LOAD && <Loading />}\n      {status === statusList.IDLE && searchResult && (\n        <>\n          {searchResult && searchResult.length === 0 ? (\n            <p>There are no films with this name</p>\n          ) : (\n            <FilmsList films={searchResult} loc={pathname + search} />\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["List","styled","ListItem","Vote","FilmsList","films","loc","map","id","poster","poster_path","original_title","title","vote","vote_average","to","state","from","src","alt","className","statusList","IDLE","LOAD","ERR","useFetching","callback","fetchParametr","useState","setState","status","setStatus","useEffect","fetchFilms","result","console","log","axios","KEY","fetchTrending","response","data","results","searchMovies","query","page","fetchMovieDetails","movieId","fetchMovieReviews","fetchMovieCredits","cast","Head","Form","SearchForm","onSub","search","useLocation","URLSearchParams","get","setQuery","onSubmit","e","preventDefault","alert","type","name","onChange","target","value","placeholder","searchSvg","useSearchParams","searchParams","setSearchParams","searchResult","pathname","Loading","length"],"sourceRoot":""}