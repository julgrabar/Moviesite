{"version":3,"file":"static/js/715.17c3d09d.chunk.js","mappings":"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","sources":["components/FilmsList/FilmsList.jsx","components/FilmsList/FilmsList.styled.jsx","components/Pagination/Pagination.jsx","hooks/useFetching.jsx","hooks/usePagination.jsx","views/MovieDetailsPage/MovieDetailsPage.styled.jsx","components/SearchForm/Form.styled.jsx","images/search.svg","components/SearchForm/SearchForm.jsx","views/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { ListItem, List, Vote, ImgThumb } from './FilmsList.styled';\nimport posterInstead from '../../images/poster.jpg';\nimport { useState } from 'react';\n\nexport const FilmsList = ({ films, loc }) => {\n  const [loadedImg, setLoadedImg] = useState(false);\n\n  return (\n    <List>\n      {films.map(\n        ({\n          id,\n          poster_path: poster,\n          original_title,\n          title,\n          vote_average: vote,\n        }) => (\n          <ListItem key={id}>\n            <Link to={`/movies/${id}`} state={{ from: loc }}>\n              <img\n                src={\n                  poster\n                    ? `https://image.tmdb.org/t/p/w500${poster}`\n                    : posterInstead\n                }\n                alt={title ?? original_title + 'poster'}\n                onLoad={() => setLoadedImg(true)}\n                style={{ display: loadedImg ? 'block' : 'none' }}\n              />\n              {!loadedImg && <ImgThumb />}\n\n              <p className=\"film-info\">{title ?? original_title}</p>\n\n              {vote !== 0 && (\n                <Vote>\n                  <span className=\"material-icons md-16\">star_border</span>\n                  {vote}\n                </Vote>\n              )}\n            </Link>\n          </ListItem>\n        )\n      )}\n    </List>\n  );\n};\n\nFilmsList.propTypes = {\n  loc: PropTypes.string,\n  films: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      original_title: PropTypes.string,\n      title: PropTypes.string,\n      vote_average: PropTypes.number,\n    }).isRequired\n  ).isRequired,\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: grid;\n  gap: 14px;\n\n  @media screen and (min-width: 480px) {\n    grid-template-columns: repeat(2, 1fr);\n    /* grid-template-rows: repeat(10, 1fr); */\n  }\n\n  @media screen and (min-width: 768px) {\n    grid-template-columns: repeat(3, 1fr);\n    /* grid-template-rows: repeat(10, 1fr); */\n    gap: 24px;\n  }\n\n  @media screen and (min-width: 1200px) {\n    grid-template-columns: repeat(4, 1fr);\n    /* grid-template-rows: repeat(5, 1fr); */\n    gap: 24px;\n  }\n`;\n\nexport const ListItem = styled.li`\n  color: grey;\n  background-color: rgb(32, 40, 62, 80%);\n  padding: 8px;\n  border-radius: 12px;\n  position: relative;\n\n  img {\n    border-radius: 5px;\n    margin-bottom: 18px;\n  }\n\n  .film-info {\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 1.5;\n\n    letter-spacing: 0.02em;\n\n    color: #ebeef5;\n  }\n`;\n\nexport const Vote = styled.span`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  background: rgba(0, 0, 0, 0.65);\n  backdrop-filter: blur(8px);\n  padding: 4px 8px;\n  border-radius: 8px;\n  color: #ffad49;\n  font-size: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .md-16 {\n    font-size: 16px;\n  }\n`;\n\nexport const ImgThumb = styled.div`\n  background: #20283e;\n  border-radius: 8px;\n  width: 100%;\n  height: 400px;\n`;\n","import {\n  Btn,\n  PagWrapper,\n} from 'views/MovieDetailsPage/MovieDetailsPage.styled';\n\nexport const Pagination = ({ page, setPage, totalPages }) => {\n  return (\n    <PagWrapper>\n      {page - 4 > 0 && (\n        <Btn\n          as=\"button\"\n          type=\"button\"\n          className=\"hide-btn\"\n          onClick={() => setPage(1)}\n        >\n          1\n        </Btn>\n      )}\n\n      {page - 3 > 0 && (\n        <Btn as=\"button\" type=\"button\" onClick={() => setPage(page - 3)}>\n          ...\n        </Btn>\n      )}\n\n      {page - 2 > 0 && (\n        <Btn\n          as=\"button\"\n          type=\"button\"\n          className=\"hide-btn\"\n          onClick={() => setPage(page - 2)}\n        >\n          {page - 2}\n        </Btn>\n      )}\n      {page - 1 > 0 && (\n        <Btn as=\"button\" type=\"button\" onClick={() => setPage(page - 1)}>\n          {page - 1}\n        </Btn>\n      )}\n\n      <Btn as=\"button\" type=\"button\" className=\"current\" disabled>\n        {page}\n      </Btn>\n\n      {totalPages >= page + 1 && (\n        <Btn as=\"button\" type=\"button\" onClick={() => setPage(page + 1)}>\n          {page + 1}\n        </Btn>\n      )}\n\n      {totalPages >= page + 2 && (\n        <Btn\n          as=\"button\"\n          type=\"button\"\n          className=\"hide-btn\"\n          onClick={() => setPage(page + 2)}\n        >\n          {page + 2}\n        </Btn>\n      )}\n\n      {totalPages >= page + 3 && (\n        <Btn as=\"button\" type=\"button\" onClick={() => setPage(page + 3)}>\n          ...\n        </Btn>\n      )}\n\n      {totalPages >= page + 4 && (\n        <Btn\n          as=\"button\"\n          type=\"button\"\n          className=\"hide-btn\"\n          onClick={() => setPage(totalPages)}\n        >\n          {totalPages}\n        </Btn>\n      )}\n    </PagWrapper>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const statusList = {\n  IDLE: 'idle',\n  LOAD: 'loading',\n  ERR: 'error',\n};\n\nexport const useFetching = (callback, page, fetchParametr = null) => {\n  const [state, setState] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n  const [status, setStatus] = useState(statusList.IDLE);\n\n  useEffect(() => {\n    if (fetchParametr === '') {\n      return;\n    }\n\n    const fetchFilms = async () => {\n      setStatus(statusList.LOAD);\n      try {\n        const result = await callback(page, fetchParametr);\n        setState(result.results);\n        setTotalPages(result.pages);\n      } catch (error) {\n        console.log(error);\n        setStatus(statusList.ERR);\n      } finally {\n        setStatus(statusList.IDLE);\n      }\n    };\n    fetchFilms();\n  }, [page, callback, fetchParametr]);\n\n  return [state, status, totalPages];\n};\n","import { useState } from 'react';\n\nexport const usePagination = init => {\n  const [page, setPage] = useState(init);\n\n  // const onPagBtn = value => {\n  //   setPage(prevPage => prevPage + value);\n  //   window.scrollTo({\n  //     top: 0,\n  //     left: 0,\n  //   });\n  // };\n\n  return [page, setPage];\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const MovieDetails = styled.div`\n  display: flex;\n  max-width: 100vw;\n  padding: 0 80px 40px 80px;\n\n  img {\n    border-radius: 24px;\n    margin-right: 80px;\n    height: 720px;\n    width: 480px;\n  }\n`;\n\nexport const MovieInfo = styled.div`\n  span.info-block {\n    display: block;\n    margin-bottom: 24px;\n    font-weight: 400;\n    font-size: 20px;\n    line-height: 1.6;\n    color: #c3c8d4;\n    p:first-child {\n      font-size: 16px;\n      line-height: 1.5;\n      color: #767e94;\n      margin-bottom: 8px;\n    }\n  }\n\n  .tagline {\n    display: block;\n    font-weight: 700;\n    font-size: 24px;\n    line-height: 1.33;\n    letter-spacing: -0.015em;\n    color: #ebeef5;\n    margin-bottom: 24px;\n  }\n\n  .overview {\n    font-weight: 400;\n    font-size: 20px;\n    line-height: 1.6;\n    color: #8e95a9;\n    margin-bottom: 24px;\n  }\n`;\n\nexport const StyledLink = styled(Link)`\n  margin-right: 10px;\n`;\n\nexport const Btn = styled(Link)`\n  display: inline-block;\n  padding: 14px 18px;\n  background-color: #7b6ef6;\n  color: white;\n  border-radius: 12px;\n  border: none;\n  text-decoration: none;\n  cursor: pointer;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  :hover {\n    transform: scale(1.1);\n  }\n\n  :not(:last-child) {\n    margin-right: 8px;\n  }\n  :not(:first-child) {\n    margin-left: 8px;\n  }\n\n  &.current {\n    transform: scale(1.15);\n    margin: 0 14px;\n    cursor: auto;\n  }\n\n  @media screen and (max-width: 480px) {\n    &.hide-btn {\n      display: none;\n    }\n  }\n\n  @media screen and (max-width: 768px) {\n    padding: 8px;\n    border-radius: 8px;\n  }\n`;\n\nexport const PagWrapper = styled.div`\n  text-align: center;\n  padding: 48px 0;\n`;\n\nexport const BackdropPoster = styled.div`\n  max-width: 1280px;\n  height: 480px;\n  position: relative;\n\n  background: linear-gradient(\n      180deg,\n      rgba(54, 44, 146, 0.4) 0%,\n      rgba(18, 98, 151, 0.4) 100%\n    ),\n    url(${props => props.img}) center/cover no-repeat;\n\n  border-radius: 40px;\n  margin-bottom: 150px;\n`;\n\nexport const MovieTitle = styled.div`\n  position: absolute;\n  left: 80px;\n  bottom: -70px;\n  background: rgba(32, 40, 62, 0.5);\n  backdrop-filter: blur(24px);\n  border-radius: 24px;\n  padding: 40px;\n  max-width: 50%;\n\n  h1 {\n    font-weight: 600;\n    font-size: 32px;\n    line-height: 1.25;\n\n    letter-spacing: -0.02em;\n    color: #ebeef5;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  max-width: 350px;\n  margin-bottom: 52px;\n  input {\n    background: rgba(0, 0, 0, 0.1);\n    width: 100%;\n\n    border: 1px solid #323b54;\n\n    border-radius: 12px;\n    box-sizing: border-box;\n    padding: 24px 56px 24px 16px;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 1.14;\n\n    color: #475069;\n\n    &:focus {\n      border: 1px solid #323b54;\n    }\n  }\n  button {\n    position: absolute;\n    top: 12px;\n    right: 12px;\n    background-color: inherit;\n    border: none;\n    cursor: pointer;\n    padding: 8px;\n  }\n`;\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z\",\n    stroke: \"#475069\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22 22L20 20\",\n    stroke: \"#475069\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.50d049c2a30a90b6b437224f99de07b4.svg\";\nexport { ForwardRef as ReactComponent };","import { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { Form } from './Form.styled';\nimport searchSvg from '../../images/search.svg';\n\nexport const SearchForm = ({ onSub }) => {\n  const { search } = useLocation();\n\n  const [query, setQuery] = useState(\n    new URLSearchParams(search).get('query') || ''\n  );\n\n  const onSearchSub = e => {\n    e.preventDefault();\n    if (!query) {\n      alert('Enter the search request');\n      return;\n    }\n\n    onSub({ query: query || '' });\n  };\n\n  const onSearchInput = e => {\n    const query = e.target.value;\n    setQuery(query);\n  };\n\n  return (\n    <Form onSubmit={onSearchSub}>\n      <label>\n        <input\n          type=\"text\"\n          name=\"search\"\n          onChange={onSearchInput}\n          value={query}\n          placeholder=\"Search Movies\"\n          autoComplete=\"off\"\n        />\n      </label>\n      <button type=\"submit\">\n        <img src={searchSvg} alt=\"Search\" />\n      </button>\n    </Form>\n  );\n};\n\nSearchForm.propTypes = {\n  onSub: PropTypes.func.isRequired,\n};\n","import { useEffect } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport { FilmsList } from 'components/FilmsList/FilmsList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useFetching } from 'hooks/useFetching';\nimport { searchMovies } from 'services/api-service';\nimport { statusList } from 'hooks/useFetching';\nimport { Loading } from 'components/Loading/Loading';\nimport { Head } from '../Head.styled';\nimport { usePagination } from 'hooks/usePagination';\nimport { Pagination } from 'components/Pagination/Pagination';\n\nconst MoviesPage = () => {\n  const { search, pathname } = useLocation();\n  const queryPage = Number(new URLSearchParams(search).get('page'));\n  const [page, setPage] = usePagination(queryPage || 1);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchResult, status, totalPages] = useFetching(\n    searchMovies,\n    page,\n    searchParams.get('query') || ''\n  );\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const query = new URLSearchParams(search).get('query');\n    if (query) {\n      setSearchParams({ query });\n      navigate(`${pathname}?query=${query}&page=${page}`, { replace: true });\n    }\n  }, [search, setSearchParams, page, navigate, pathname]);\n\n  const onSearchSubmit = obj => {\n    setSearchParams(obj);\n    setPage(1);\n  };\n\n  return (\n    <>\n      <Head>Movies search</Head>\n      <SearchForm onSub={onSearchSubmit} />\n\n      {status === statusList.ERR && (\n        <p>Something is wrong... Try to reload the page</p>\n      )}\n\n      {status === statusList.LOAD && <Loading />}\n      {status === statusList.IDLE && searchResult && (\n        <>\n          {searchResult && searchResult.length === 0 ? (\n            <p>There are no films with this name</p>\n          ) : (\n            <FilmsList films={searchResult} loc={pathname + search} />\n          )}\n          {totalPages > 1 && (\n            <Pagination page={page} totalPages={totalPages} setPage={setPage} />\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["FilmsList","films","loc","useState","loadedImg","setLoadedImg","map","id","poster","poster_path","original_title","title","vote","vote_average","to","state","from","src","posterInstead","alt","onLoad","style","display","className","List","styled","ListItem","Vote","ImgThumb","Pagination","page","setPage","totalPages","as","type","onClick","disabled","statusList","IDLE","LOAD","ERR","useFetching","callback","fetchParametr","setState","setTotalPages","status","setStatus","useEffect","fetchFilms","result","results","pages","console","log","usePagination","init","MovieDetails","MovieInfo","Btn","Link","PagWrapper","BackdropPoster","props","img","MovieTitle","Form","SearchForm","onSub","search","useLocation","URLSearchParams","get","query","setQuery","onSubmit","e","preventDefault","alert","name","onChange","target","value","placeholder","autoComplete","searchSvg","pathname","queryPage","Number","useSearchParams","searchParams","setSearchParams","searchMovies","searchResult","navigate","useNavigate","replace","obj","Loading","length"],"sourceRoot":""}